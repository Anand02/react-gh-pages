(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[0],{146:function(e,t,a){},197:function(e,t,a){e.exports=a(391)},391:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return q}));var n=a(37),r=a(38),o=a(40),i=a(39),c=a(0),l=a.n(c),s=a(8),d=a.n(s),u=a(191),m=a(25),p=a(88),f=a(17),E=a(193),b=a(395),y=a(399),O=a(397),g=a(396),T=a(392),h=a(29),v=a(393),j=(a(146),a(398)),C=a(394),S=g.a.create({name:"form_in_modal"})(function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.form,a=e.handleSubmit,n=(e.confirmLoading,t.getFieldDecorator);return l.a.createElement(g.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:a}),l.a.createElement(g.a.Item,{label:"Action"},n("action")(l.a.createElement(O.a,{placeholder:"please add action "}))),l.a.createElement(g.a.Item,{label:"DateAdded"},n("dateadded")(l.a.createElement(C.a,{showTime:!0,format:"YYYY-MM-DD"}))))}}]),a}(l.a.Component)),k=g.a.create({name:"form_in_modal"})(function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.form,n=(e.confirmLoading,a.getFieldDecorator);return l.a.createElement(g.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:t}),l.a.createElement(g.a.Item,{label:"Name"},n("name")(l.a.createElement(O.a,{placeholder:"Please Enter Name"}))),l.a.createElement(g.a.Item,{label:"Email"},n("email")(l.a.createElement(O.a,{placeholder:"Please Enter Email"}))))}}]),a}(l.a.Component)),D=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,r=e.addType,o=e.confirmLoading,i=e.wrappedComponentRef;return l.a.createElement(j.a,{title:"New Form Add "+r,visible:t,confirmLoading:o,onCancel:a,onOk:n,footer:[l.a.createElement(h.a,{key:"back",onClick:a},"Cancel"),l.a.createElement(h.a,{key:"submit",type:"primary",loading:o,onClick:n},"Save")]},"User"===r?l.a.createElement(k,{wrappedComponentRef:i,handleSubmit:n}):l.a.createElement(S,{wrappedComponentRef:i,handleSubmit:n}))}}]),a}(l.a.Component),U=l.a.createContext(),I=b.a.TabPane;function _(e){}var L=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).getInput=function(){return"number"===e.props.inputType?l.a.createElement(y.a,null):l.a.createElement(O.a,null)},e.renderCell=function(t){var a=t.getFieldDecorator,n=e.props,r=n.editing,o=n.dataIndex,i=n.title,c=(n.inputType,n.record),s=(n.index,n.children),d=Object(E.a)(n,["editing","dataIndex","title","inputType","record","index","children"]);return l.a.createElement("td",d,r?l.a.createElement(g.a.Item,{style:{margin:0}},a(o,{rules:[{required:!0,message:"Please Input ".concat(i,"!")}],initialValue:c[o]})(e.getInput())):s)},e}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement(U.Consumer,null,this.renderCell)}}]),a}(l.a.Component),x=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).isUserEditing=function(e){return e.key===r.state.editingUserKey},r.isTodoEditing=function(e){return e.key===r.state.editingTodoKey},r.deleteUser=function(e){r.props.deleteUser(e)},r.deleteTodo=function(e){r.props.deleteTodo(e)},r.cancelUser=function(){r.setState({editingUserKey:""})},r.cancelTodo=function(){r.setState({editingTodoKey:""})},r.addUser=function(){r.addType="User",r.showModal()},r.addTodo=function(){r.addType="Todo",r.showModal()},r.showModal=function(){r.setState({visible:!0}),console.log(r.state)},r.hideModal=function(){r.setState({visible:!1})},r.handleSubmit=function(e){e.preventDefault(),r.setState({confirmLoading:!0}),setTimeout((function(){r.formRef.props.form.validateFields((function(e,t){if(!e)if("Todo"===r.addType){var a=Object(f.a)(Object(f.a)({},t),{},{dateadded:t.dateadded.format("YYYY-MM-DD")});r.props.addTodo(a)}else r.props.addUser(t)})),r.setState({visible:!1,confirmLoading:!1})}),2e3)},r.handleCancel=function(){r.setState({visible:!1})},r.saveFormRef=function(e){r.formRef=e},r.todo_columns=[{title:"ACTION",dataIndex:"action",width:"41%",editable:!0},{title:"DATE",dataIndex:"dateadded",width:"41%",editable:!0},{title:"EDIT/DELETE/UPDATE",dataIndex:"operation",render:function(e,t){r.state.editingKey;return r.isTodoEditing(t)?l.a.createElement("span",null,l.a.createElement(U.Consumer,null,(function(e){return l.a.createElement("a",{onClick:function(){return r.saveTodo(e,t.key)},style:{marginRight:8}},"Save")})),l.a.createElement(T.a,{title:"CANCEL?",onConfirm:function(){return r.cancelTodo(t.key)}},l.a.createElement("a",null,"Cancel"))):l.a.createElement("div",null,l.a.createElement("a",{disabled:""!==r.state.editingTodoKey,onClick:function(){return r.editTodo(t.key)}},"Edit"),l.a.createElement(T.a,{title:"REALLY YOU WANT TO DELETE?",onConfirm:function(){return r.deleteTodo(t.key)}},l.a.createElement("a",null,"Delete")))}}],r.user_columns=[{title:"NAME",dataIndex:"name",width:"41%",editable:!0},{title:"EMAIL",dataIndex:"email",width:"41%",editable:!0},{title:"EDIT/DELTE/UPDATE",dataIndex:"operation",render:function(e,t){r.state.editingKey;return r.isUserEditing(t)?l.a.createElement("span",null,l.a.createElement(U.Consumer,null,(function(e){return l.a.createElement("a",{onClick:function(){return r.saveUser(e,t.key)},style:{marginRight:8}},"Save")})),l.a.createElement(T.a,{title:"CANCEL?",onConfirm:function(){return r.cancelUser(t.key)}},l.a.createElement("a",null,"Cancel"))):l.a.createElement("div",null,l.a.createElement("a",{disabled:""!==r.state.editingUserKey,onClick:function(){return r.editUser(t.key)}},"Edit"),l.a.createElement(T.a,{title:"REALLY YOU WANT TO DELETE?",onConfirm:function(){return r.deleteUser(t.key)}},l.a.createElement("a",null,"Delete")))}}],r.state={users:[],editingUserKey:"",editingTodoKey:"",userCount:0,todoCount:0,todos:[],visible:!1,confirmLoading:!1},r.addType="",r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchUsersTodos()}},{key:"editUser",value:function(e){this.setState({editingUserKey:e})}},{key:"editTodo",value:function(e){this.setState({editingTodoKey:e})}},{key:"saveUser",value:function(e,t){var a=this;e.validateFields((function(e,n){e||(console.log("edit user ".concat(t," : "),n),a.setState({editingUserKey:""}),a.props.editUser(t,n))}))}},{key:"saveTodo",value:function(e,t){var a=this;e.validateFields((function(e,n){e||(console.log("edit todo ".concat(t," : "),n),a.setState({editingTodoKey:""}),a.props.editTodo(t,n))}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.users,n=t.todos,r={body:{cell:L}},o=this.todo_columns.map((function(t){return t.editable?Object(f.a)(Object(f.a)({},t),{},{onCell:function(a){return{record:a,inputType:"key"===t.dataIndex?"number":"text",dataIndex:t.dataIndex,title:t.title,editing:e.isTodoEditing(a)}}}):t})),i=this.user_columns.map((function(t){return t.editable?Object(f.a)(Object(f.a)({},t),{},{onCell:function(a){return{record:a,inputType:"key"===t.dataIndex?"number":"text",dataIndex:t.dataIndex,title:t.title,editing:e.isUserEditing(a)}}}):t}));return l.a.createElement("div",null,l.a.createElement("h2",null,"WELCOME , TODOS USERS"),l.a.createElement(b.a,{defaultActiveKey:"1",onChange:_},l.a.createElement(I,{tab:"TODOS LIST",key:"1"},l.a.createElement("div",null,l.a.createElement(h.a,{onClick:this.addTodo,type:"primary",style:{marginTop:-56,float:"right"}},"ADD NEW DATA"),l.a.createElement(U.Provider,{value:this.props.form},l.a.createElement(v.a,{components:r,bordered:!0,dataSource:n.todos,columns:o,rowClassName:"editable-row",pagination:{onChange:this.cancelTodo}})))),l.a.createElement(I,{tab:"USERS LIST",key:"2"},l.a.createElement("div",null,l.a.createElement(h.a,{onClick:this.addUser,type:"primary",style:{marginTop:-56,float:"right"}},"ADD NEW USER"),l.a.createElement(U.Provider,{value:this.props.form},l.a.createElement(v.a,{components:r,bordered:!0,dataSource:a.users,columns:i,rowClassName:"editable-row",pagination:{onChange:this.cancelUser}}))))),l.a.createElement(D,{visible:this.state.visible,onCancel:this.hideModal,onCreate:this.handleSubmit,confirmLoading:this.state.confirmLoading,wrappedComponentRef:this.saveFormRef,addType:this.addType}))}}]),a}(l.a.Component),w=g.a.create()(x),A=Object(p.b)((function(e){return{users:e.users,todos:e.todos}}),(function(e){return{fetchUsersTodos:function(){e((function(e){var t=[],a=[];try{"undefined"!=typeof localStorage.getItem("users")&&(t=JSON.parse(localStorage.getItem("users"))),"undefined"!=typeof localStorage.getItem("todos")&&(a=JSON.parse(localStorage.getItem("todos"))),console.log("usersdata from localstorage",JSON.stringify(t)),console.log("todosdata from localstorage",JSON.stringify(a))}catch(n){localStorage.clear()}e({type:"FETCH_TODOS",todos:a||[]}),e({type:"FETCH_USERS",users:t||[]})}))},addTodo:function(t){var a;e((a=t,function(e){return e({type:"ADD_TODO",params:a})}))},editTodo:function(t,a){e(function(e,t){return function(a){return a({type:"EDIT_TODO",key:e,params:t})}}(t,a))},deleteTodo:function(t){e(function(e){return function(t){return t({type:"DELETE_TODO",key:e})}}(t))},addUser:function(t){var a;e((a=t,function(e){return e({type:"ADD_USER",params:a})}))},editUser:function(t,a){e(function(e,t){return function(a){return a({type:"EDIT_USER",key:e,params:t})}}(t,a))},deleteUser:function(t){e(function(e){return function(t){return t({type:"DELETE_USER",key:e})}}(t))}}}))(w),R=a(56),N=a(79),K={users:[]};function M(e){localStorage.setItem("users",JSON.stringify(e))}var F={todos:[]};function Y(e){localStorage.setItem("todos",JSON.stringify(e))}var P=Object(R.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS":return Object(f.a)(Object(f.a)({},e),{},{users:e.users.concat(t.users)});case"ADD_USER":return M([].concat(Object(N.a)(e.users),[Object(f.a)(Object(f.a)({},t.params),{},{key:e.users.length})])),Object(f.a)(Object(f.a)({},e),{},{users:[].concat(Object(N.a)(e.users),[Object(f.a)(Object(f.a)({},t.params),{},{key:e.users.length})])});case"DELETE_USER":return M(e.users.filter((function(e){return e.key!==t.key}))),Object(f.a)(Object(f.a)({},e),{},{users:e.users.filter((function(e){return e.key!==t.key}))});case"EDIT_USER":var a=e.users.map((function(e){return e.key===t.key?Object(f.a)(Object(f.a)({},e),{},{name:t.params.name,email:t.params.email}):e}));return M(a),Object(f.a)(Object(f.a)({},e),{},{users:a});default:return e}},todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TODOS":return Object(f.a)(Object(f.a)({},e),{},{todos:e.todos.concat(t.todos)});case"ADD_TODO":return Y([].concat(Object(N.a)(e.todos),[Object(f.a)(Object(f.a)({},t.params),{},{key:e.todos.length})])),Object(f.a)(Object(f.a)({},e),{},{todos:[].concat(Object(N.a)(e.todos),[Object(f.a)(Object(f.a)({},t.params),{},{key:e.todos.length})])});case"DELETE_TODO":return Y(e.todos.filter((function(e){return e.key!==t.key}))),Object(f.a)(Object(f.a)({},e),{},{todos:e.todos.filter((function(e){return e.key!==t.key}))});case"EDIT_TODO":var a=e.todos.map((function(e){return e.key===t.key?Object(f.a)(Object(f.a)({},e),{},{action:t.params.action,email:t.params.dateadded}):e}));return Y(a),Object(f.a)(Object(f.a)({},e),{},{todos:a});default:return e}}}),J=a(190),W=(a(389),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||R.d),H=Object(R.e)(P,W(Object(R.a)(J.a))),V=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement(u.a,null,l.a.createElement(m.c,null,l.a.createElement(m.a,{exact:!0,path:"/",component:A})))}}]),a}(c.Component),X=Object(p.b)()(V),q=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement(p.a,{store:H},l.a.createElement(X,null))}}]),a}(c.Component),B=document.getElementById("root");d.a.render(l.a.createElement(q,null),B)}},[[197,1,2]]]);
//# sourceMappingURL=main.707be3b3.chunk.js.map